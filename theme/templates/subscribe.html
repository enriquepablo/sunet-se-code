<div class="container subscription-page">
  <main aria-labelledby="main-title" class="row single m-52">
    <article class="col-lg-8 offset-lg-2">
      <h1 id="main-title">{% trans %}Prenumerera på vårt nyhetsbrev{% endtrans %}</h1>
      <div>
        <p>{% trans %}Håll dig uppdaterad om vad som händer inom Sunet. Fyll i din e-postadress nedan för att börja prenumerera.{% endtrans %}</p>
        <p>{% trans %}Du behöver också ta del av informationen om behandling av personuppgifter och samtycka till att Vetenskapsrådet, där Sunet är en avdelning, behandlar dina personuppgifter.{% endtrans %}</p>
        <p class="font-weight-bold">{% trans %}E-POST (OBLIGATORISK):{% endtrans %}</p>

                <script type="text/javascript">
                    validateForm() {
                      var value = '';
                      var email = document.SubscribeForm.SubscriberForm_email;
                      value = email.value;
                      if (value == null || value == '') {
                        var errorElement = document.getElementById("SubscriberForm_email_error_required");
                        if(errorElement){
                          errorElement.style.display = 'block';
                        }
                        email.focus();
                        return false;
                      }
                      else {
                        var errorElement = document.getElementById("SubscriberForm_email_error_required");
                        if(errorElement){
                          errorElement.style.display = 'hidden';
                        }
                      }
                      if (!RegExp(/^(?:[A-Za-z0-9!#$%&\'*+\/=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*|""(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*"")@(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-zA-Z0-9-]*[a-zA-Z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/).test(value)) {
                        var errorElement = document.getElementById("SubscriberForm_email_error_0");
                        if(errorElement){
                          errorElement.style.display = 'block';
                        }
                        email.focus();
                        return false;
                      }
                      else {
                        var errorElement = document.getElementById("SubscriberForm_email_error_0");
                        if(errorElement){
                          errorElement.style.display = 'hidden';
                        }
                      }
                      if(!RegExp(/^(.|\s){0,400}$/).test(value)) {
                        var errorElement = document.getElementById("SubscriberForm_email_error_1");
                        if(errorElement){
                          errorElement.style.display = 'block';
                        }
                        email.focus();
                        return false;
                      }
                      else {
                        var errorElement = document.getElementById("SubscriberForm_email_error_1");
                        if(errorElement){
                          errorElement.style.display = 'hidden';
                        }
                      }
                    }
                </script >

        <form name="SubscribeForm" method="post" onSubmit="() => {return validateForm()}" action="https://ui.ungpd.com/Api/Subscriptions/723e8a84-1f5c-4c1e-8837-b4755f4e6244">
          <input type="hidden" name="ListIds" value="a7fb77c1-f7a8-48a7-8756-ea306f1dd3f6" id="listIda7fb77c1-f7a8-48a7-8756-ea306f1dd3f6" />
          <input type="hidden" name="SubscriptionConfirmedUrl" value="https://www.sunet.se/om-sunet/valkommen-som-prenumerant/" />
          <input type="hidden" name="SubscriptionFailedUrl" value="https://www.sunet.se/om-sunet/nagot-gick-fel" />
          <input type="hidden" name="DoubleOptIn[Issue][IssueId]" value="fab8be83-807a-43b4-b91f-13d1b4f1c6f9" />
          <input type="hidden" name="DoubleOptIn[EmailSentUrl]" value="https://www.sunet.se/om-sunet/nyhetsbrev-tack/" />
          <p>
            <input type="email" id="SubscriberForm_email" name="{% trans %}Contact[Email]{% endtrans %}"  required placeholder="namn.namnsson@email.com" /><br />
          </p>
          <span id="SubscriberForm_email_error_required">{% trans %}Obligatorisk{% endtrans %}</span>
          <span id="SubscriberForm_email_error_0">{% trans %}Ogiltig e-postadress{% endtrans %}</span>
          <span id="SubscriberForm_email_error_1">{% trans %}Max 400 tecken{% endtrans %}</span>
          <p>
            <label for="contactConsentText"> 
              <input
                  type="checkbox"
                  required name="ConsentText"
                  id="contactConsentText"
                  value="{% trans %}Jag vill få relevant information från Sunet till min inkorg. Sunet ska inte dela eller sälja min personliga information. Jag kan när som helst avsluta prenumerationen.{% endtrans %}"
                  />

              &nbsp;  {% trans %}Jag har läst{% endtrans %} &nbsp; <a href="/om-sunet/nyhetsbrev-personuppgiftsbehandling">{% trans %}informationen{% endtrans %}</a>&nbsp; {% trans %}och samtycker till Vetenskapsrådets behandling av mina personuppgifter.{% endtrans %}
            </label>
          </p>
          <input type="submit" id="submit-button" value="{% trans %}Skicka{% endtrans %}" />
        </form>
        <p>{% trans %}Vill du avsluta din prenumeration? Klicka på länken “Avprenumerera” längst ner i nyhetsbrevet.{% endtrans %}</p>            
      </div>
    </article>
  </main>
</div>
